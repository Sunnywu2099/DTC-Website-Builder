<style>
  .text-center{
    text-align: center;
  }
  .text-bottom{
    margin-bottom: 32px;
  }
  .pointer{
    cursor: pointer;
  }
  .nas-selector .top,
  .step{
    margin: 80px auto;
  }
  .nas-selector .selector-box{
    display: flex;
    justify-content: space-between;
  }
  .step1-selection{
    width: 48%;
    height: 200px;
    line-height: 200px;
    border-radius: 20px;
    border: 1px solid #000;
  }
</style>

{% assign obj = page.metafields.custom.selector.value | parse_json %}
<script>var nasSelectorData = {{ obj | json }};</script>
{% assign baysObj = obj.bays.value  %}
{% assign bays = baysObj.bays %}
{% assign funcitonsObj = obj.funcitons.value %}
{% assign functions = funcitonsObj.functions %}
{% assign number = obj.number.value %}
{% assign products = obj.products.value %}
{% assign userType = obj.user_type.value %}

<div class="nas-selector container">
  {% for bay in bays %}<span>{{ bay.type | json | strip_html }}</span>{% endfor %}
  <div class="top text-center">
    <h1 class="heading text-bottom">NAS Selector</h1>
    <p>With a wide range of Synology products to offer, we want to make the selection process as easy as possible. Simply enter your requirements below, and this tool will recommend the most suitable NAS server for you.</p>
  </div>
  
  <!-- step 1 -->
  <div id="step1" class="step">
    <h3 class="section-title text-center text-bottom">Which type of user are you?</h3>
    <div class="selector-box">
      {% for type in userType %}
        <div class="step1-selection text-center pointer">{{ type }}</div>  
      {% endfor %}
    </div>
  </div>
  <!-- step 1 -->

  <!-- step 2 -->
  <div id="step2" class="step">
    <h3 class="section-title text-center text-bottom">Which applications would you like to run on your NAS?</h3>
    <p class="text-center text-bottom">Please select 1-3 most frequently-used applications.</p>
    <div class="selector-box">
      {% for function in functions %}
        <div class="step1-selection text-center pointer">
          <h3>{{ function.type | strip_html }}</h3>
          <p>{{ function.description | strip_html }}</p>
        </div>  
        
      {% endfor %}
    </div>
  </div>
  <!-- step 2 -->
</div>


<script>
      console.log(nasSelectorData);

      // 示例：遍历并使用数据
      var bays = nasSelectorData.bays;
      var functions = nasSelectorData.functions;
      var number = nasSelectorData.number;
      var products = nasSelectorData.products;
      var userType = nasSelectorData.user_type;

      // 示例：遍历 bays
      for (var bay in bays) {
        if (bays.hasOwnProperty(bay)) {
          console.log(bay, bays[bay]);
        }
      }

      // 示例：遍历 functions
      for (var func in functions) {
        if (functions.hasOwnProperty(func)) {
          console.log(func, functions[func]);
        }
      }
</script>

{% schema %}
  {
    "name": "Nas selector",
    "settings": [
    ],
    "presets": [
      {
        "name": "Nas selector"
      }
    ]
  }
{% endschema %}