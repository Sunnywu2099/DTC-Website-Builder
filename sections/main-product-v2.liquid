<div class="eddie_products">data:
<div class="content"></div>
</div>

<script>
    {%- liquid
        assign media_grouping_options = 'Color' | replace: ', ', ',' | split: ','
        for option in product.options
          if media_grouping_options contains option
            assign groupOptionName = option
            assign groupOptionIndex = forloop.index0
            assign groupOptionProperty = 'option' | append: forloop.index
            assign sortedVariants = product.variants | sort: groupOptionProperty
            break
          endif
        endfor
      -%}
      {%- if groupOptionName -%}
        <script class="js-data-variant-media" type="application/json">
          {
            "groupOptionName": {{- groupOptionName | json -}},
            "groupOptionIndex": {{- groupOptionIndex }},
            "variantMedia": [
              {% capture data %}
                {%- for variant in sortedVariants -%}
                  {%- if variant.featured_media -%}
                    {
                      "variantId": {{- variant.id -}},
                      "mediaId": {{- variant.featured_media.id -}},
                      "option": {{- variant.options[groupOptionIndex] | json -}}
                    },
                  {%- endif -%}
                {%- endfor -%}
              {% endcapture %}
              {{ data | replace_last: ',', '' }}
            ]
          }
        </script>
      {%- endif -%}
</script>


{%- assign first_3d_model = product.media | where: "media_type", "model" | first -%}
{%- if first_3d_model -%}
  <script type="application/json" id="ProductJSON-{{ product.id }}">
    {{ product.media | where: 'media_type', 'model' | json }}
  </script>
  <script src="{{ 'product-model.js' | asset_url }}" defer></script>
{%- endif -%}
{% style %}
  .product__xr-button {
    background: rgba(var(--color-foreground), 0.08);
    color: rgb(var(--color-foreground));
    margin: 1rem auto;
    box-shadow: none;
    display: flex;
    z-index: 1;
  }

  .button.product__xr-button:hover {
    box-shadow: none;
  }

  .product__xr-button[data-shopify-xr-hidden] {
    visibility: hidden;
  }

  .shopify-design-mode .product__xr-button[data-shopify-xr-hidden] {
    display: none;
  }

  @media screen and (max-width: 749px) {
    slider-component .product__xr-button {
      display: none;
    }

    .active .product__xr-button:not([data-shopify-xr-hidden]) {
      display: block;
    }
  }

  @media screen and (min-width: 750px) {
    slider-component + .button.product__xr-button {
      display: none;
    }

    .product__xr-button[data-shopify-xr-hidden] {
      display: none;
    }
  }

  .product__xr-button .icon {
    width: 1.4rem;
    margin-right: 1rem;
  }

{% endstyle %}

{%- liquid
  assign current_variant = product.selected_or_first_available_variant
-%}

{% comment %} 在购买页中以变体图片为节点，将产品图分组，形如 A1 $$ B1;;B2;;B3 $$ C1;;C2 {% endcomment %}
{%- capture image_list -%}
  {%- for product_image in product.images -%}
    {%- if product_image.variants.first.id != blank -%}
      {%- comment -%} If product image is attached to a variant, image.attached_to_variant not working! {%- endcomment -%}
      {%- unless forloop.first -%}$${%- endunless -%}
      {{ product_image.id }}::{{ product_image.position }}||{{ product_image.alt }}
    {%- else -%}
      {%- unless forloop.first -%};;{%- endunless -%}{{ product_image.position }}||{{ product_image.alt }}
    {%- endif -%}
  {%- endfor -%}
{%- endcapture -%}

image_list:
{{ image_list }}


{%- liquid
  assign show_video = false
  for media in product.media
    if media.media_type == 'external_video' or media.media_type == 'video'
      assign show_video = true
      assign current_video = media
      break
    endif
  endfor
comment
  assign current_product_models = section.blocks | where: "type", "variant" | map: "settings" | where: "product", product.handle
  if current_product_models
    assign current_product_model = current_product_models | where: "variant_name", '' | first
  endif
endcomment

-%}

<link rel="stylesheet" href="{{ 'media-gallery.min.css' | asset_url }}">
<div class="purchase-section mb-6 mb-lg-9 mt-0 mt-md-6 as-main-product-v2-container">
  <input class="as-main-product-v2-script" type="hidden" value="{{ 'main-product-v2.min.js' | asset_url }}" {% if request.design_mode %}data-design-mode="yes"{% endif %}>
  <div class="container media-wrap-container">
    <div class="row g-0 media-wrap-row">
      <div class="media-wrap-col" style="width: {{ section.settings.desktop_media_width | append: '%' }}">
        <div class="as-sticky-top-section sticky-top-section gallery-wrap">
          {%- for variant in product.variants -%}
            {% capture variant_image_strs %}{%- render 'get-product-images-by-variant-id', image_list: image_list, target_variant: variant, all_images: product.images -%}{% endcapture %}

            {%- liquid assign variant_image_strs = variant_image_strs | split: ';;' -%}
            {% comment %} <media-gallery style="display: block;" class="as-gallery-wrapper {% if current_variant.id != variant.id %}d-none{% endif %}" data-variant-id="{{ variant.id }}">
              <div class="swiper as-media-swiper-outside">
                <div class="swiper-wrapper">
                  <div class="swiper-slide as-outer-slide outer-slide{% if section.settings.thumbnail_layout_on_desktop == 'left' %}{% if variant_image_strs.size <= 1 %} thumbnail-left-space{% endif %} d-md-flex flex-row-reverse{% endif %}">
                    <div class="swiper as-media-swiper-inside media-swiper-inside w-100 bg-gray-100 overflow-hidden product-img-rounded">
                      <div class="swiper-wrapper">
                        {%- for variant_image_str in variant_image_strs -%}
                          {%- liquid
                            assign variant_image = variant_image_str | split: '||'
                            assign variant_image_pos = variant_image[0] | plus: 0 | minus: 1
                            assign variant_image_alt = variant_image[1]
                          -%}
                          {%- assign image = product.images[variant_image_pos] -%}
                          <div class="swiper-slide">
                            <figure class="ratio {{ section.settings.media_size }} mb-0">
                              {% if image != blank %}
                                <picture>
                                  <img
                                    class="w-100 h-100 object-fit-cover fs-0"
                                    srcset="{%- if image.width >= 420 -%}{{ image | img_url: '420x' }} 420w,{%- endif -%}
                                            {%- if image.width >= 720 -%}{{ image | img_url: '720x' }} 720w,{%- endif -%}
                                            {%- if image.width >= 840 -%}{{ image | img_url: '840x' }} 840w,{%- endif -%}
                                            {%- if image.width >= 900 -%}{{ image | img_url: '900x' }} 900w,{%- endif -%}
                                            {%- if image.width >= 1440 -%}{{ image | img_url: '1440x' }} 1440w,{%- endif -%}
                                            {%- if image.width >= 1880 -%}{{ image | img_url: '1880x' }} 1880w,{%- endif -%}
                                            {{ image | img_url: 'master' }} {{ image.width }}w"
                                    sizes="(min-width: 1440px) 900px, (min-width: 768px) 720px, calc(100vw)"
                                    src="{{ image | img_url: '600x600' }}"
                                    alt="{{ variant_image_alt | escape | strip }}"
                                    loading="lazy"
                                    width="900"
                                    height="900" >
                                </picture>
                              {% else %}
                                <picture>
                                  <div class="object-fit-cover img-placeholder h-100">
                                    {{ 'image' | placeholder_svg_tag: 'placeholder-svg h-100 w-100' }}
                                  </div>
                                </picture>
                              {% endif %}
                            </figure>
                          </div>
                        {%- endfor -%}
                      </div>
                      {% if section.settings.enable_image_zoom %}
                      <modal-opener class="media-zoom-icon me-5 mb-5">
                        <div class="as-modal-trigger media-zoom-zone w-100 h-100 icon-wrap-md flex-center {{ section.settings.color_for_zoom_icon }}" data-current-index="0" data-bs-toggle="modal" data-bs-target="#as-gallery-modal-{{variant.id}}">
                          {% render 'icon-zoom' %}
                        </div>
                      </modal-opener>
                      {% endif %}
                      {%- if variant_image_strs.size > 1 -%}
                        <div class="as-inside-prev swiper-button-prev swiper-button-translate-y d-none d-md-block">
                          <span>{% render 'icon-chevron-circle-left' %}</span>
                        </div>
                        <div class="as-inside-next swiper-button-next swiper-button-translate-y d-none d-md-block">
                          <span>{% render 'icon-chevron-circle-right' %}</span>
                        </div>
                        <div class="as-inside-pagination swiper-pagination inside-swiper-pagination inside-swiper-pagination-{{ section.settings.pagination_style }}">
                        </div>
                      {%- endif -%}
                    </div>
                    {%- if variant_image_strs.size > 1 -%}
                      {%- liquid
                        assign thumbnail_pc_show = true
                        if section.settings.thumbnail_layout_on_desktop == 'bottom'
                          assign thumbnail_gallery_class = 'd-md-block mt-md-3'
                          assign direction = 'horizontal'
                        elsif section.settings.thumbnail_layout_on_desktop == 'left'
                          assign direction = 'vertical'
                          assign thumbnail_gallery_class = 'd-md-block me-md-3 thumbnail-swiper-md-left'
                        else
                          assign thumbnail_gallery_class = 'd-md-none'
                          assign thumbnail_pc_show = false
                        endif

                        assign thumbnail_mob_show = true
                        if section.settings.thumbnail_layout_on_mobile == 'show_thumbnails'
                          assign thumbnail_gallery_class = thumbnail_gallery_class | append: ' d-block mt-3'
                        else
                          assign thumbnail_gallery_class = thumbnail_gallery_class | append: ' d-none'
                          assign thumbnail_mob_show = false
                        endif
                      -%}
                      <thumbnail-gallery
                        class="thumbnail-swiper as-thumbnail-gallery position-relative bottom-0 opacity-0 {{ thumbnail_gallery_class }}"
                        data-direction="{{ direction }}"
                        data-pc-show="{{ thumbnail_pc_show }}"
                        data-mob-show="{{ thumbnail_mob_show }}"
                      >
                        <div class="position-relative ">
                          <div thumbsSlider="" class="swiper as-gallery-thumnails-swiper" data-size="{{ variant_image_strs.size }}">
                            <div class="swiper-wrapper">
                              {%- for variant_image_str in variant_image_strs -%}
                                {%- liquid
                                  assign variant_image = variant_image_str | split: '||'
                                  assign variant_image_pos = variant_image[0] | plus: 0 | minus: 1
                                  assign variant_image_alt = variant_image[1]
                                -%}
                                {%- assign image = product.images[variant_image_pos] -%}
                                <div class="swiper-slide rounded-pill">
                                  <figure class="ratio ratio-1x1 mb-0">
                                    {% if image != blank %}
                                      <picture>
                                        <img class="object-fit-cover fs-0" width="64" height="64"
                                          srcset="{{ image | img_url: '64x64' }} 1x, {{ image | img_url: '64x64', scale: 2 }} 2x"
                                          src="{{ image | img_url: '64x64' }}"
                                          loading="lazy"
                                          alt="{{ variant_image_alt | escape | strip }}">
                                      </picture>
                                    {% else %}
                                      <picture>
                                        <div class="object-fit-cover img-placeholder">
                                          {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                                        </div>
                                      </picture>
                                    {% endif %}
                                  </figure>
                                </div>
                              {%- endfor -%}
                            </div>
                          </div>
                          <div class="as-inside-prev swiper-button-prev flex-column justify-content-center {% if section.settings.thumbnail_layout_on_mobile == 'show_thumbnails' %}d-flex{% else %}d-none d-md-flex{% endif %}">
                            <div class="d-flex">{% render 'icon-chevron-left' %}</div>
                          </div>
                          <div class="as-inside-next swiper-button-next flex-column justify-content-center {% if section.settings.thumbnail_layout_on_mobile == 'show_thumbnails' %}d-flex{% else %}d-none d-md-flex{% endif %}">
                            <div class="d-flex">{% render 'icon-chevron-right' %}</div>
                          </div>
                        </div>
                      </thumbnail-gallery>
                    {%- endif -%}
                  </div>
                  {%- if show_video -%}
                  <div class="swiper-slide as-outer-slide outer-slide {% if section.settings.thumbnail_layout_on_desktop == 'left' %}thumbnail-left-space{% endif %}">
                    <div class="ratio {{ section.settings.media_size }} mb-0 bg-gray-100 overflow-hidden product-img-rounded">
                      <modal-opener class="d-block d-md-none" data-modal="#as-video-modal-{{product.id}}">
                        <div class="flex-center h-100 icon-wrap-xl media-play-icon position-absolute w-100" data-bs-toggle="modal" data-bs-target="#as-video-modal-{{product.id}}">
                          {%- render 'icon-play-circle' -%}
                        </div>
                        <img
                          srcset="{% if current_video.preview_image.width >= 493 %}{{ current_video.preview_image | img_url: '493x' }} 493w,{% endif %}
                            {% if current_video.preview_image.width >= 600 %}{{ current_video.preview_image | img_url: '600x' }} 600w,{% endif %}
                            {% if current_video.preview_image.width >= 713 %}{{ current_video.preview_image | img_url: '713x' }} 713w,{% endif %}
                            {% if current_video.preview_image.width >= 823 %}{{ current_video.preview_image | img_url: '823x' }} 823w,{% endif %}
                            {% if current_video.preview_image.width >= 990 %}{{ current_video.preview_image | img_url: '990x' }} 990w,{% endif %}
                            {% if current_video.preview_image.width >= 1100 %}{{ current_video.preview_image | img_url: '1100x' }} 1100w,{% endif %}
                            {% if current_video.preview_image.width >= 1206 %}{{ current_video.preview_image | img_url: '1206x' }} 1206w,{% endif %}
                            {% if current_video.preview_image.width >= 1346 %}{{ current_video.preview_image | img_url: '1346x' }} 1346w,{% endif %}
                            {% if current_video.preview_image.width >= 1426 %}{{ current_video.preview_image | img_url: '1426x' }} 1426w,{% endif %}
                            {% if current_video.preview_image.width >= 1646 %}{{ current_video.preview_image | img_url: '1646x' }} 1646w,{% endif %}
                            {% if current_video.preview_image.width >= 1946 %}{{ current_video.preview_image | img_url: '1946x' }} 1946w,{% endif %}
                            {{ current_video.preview_image | img_url: 'master' }} {{ current_video.preview_image.width }}w"
                          src="{{ current_video | img_url: '1946x' }}"
                          class="w-100 h-100 object-fit-cover"
                          sizes="(min-width: 1920px) {{ 1920 | minus: 100 | times: 0.5 | round }}px, (min-width: 990px) calc({{ 0.5 | times: 100 }}vw - 10rem), (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)"
                          loading="lazy"
                          width="973"
                          height="{{ 973 | divided_by: current_video.preview_image.aspect_ratio | ceil }}"
                          alt="{{ current_video.preview_image.alt | escape }}"
                        >
                      </modal-opener>
                      {% if current_video.media_type == 'video' %}
                        <video-preview class="d-flex align-items-center cursor-pointer">
                      {% endif %}
                        {% if current_video.media_type == 'video' %}
                          {% assign custom_style = 'd-none d-md-block w-100 h-100' %}
                        {% else %}
                          {% assign custom_style = 'd-none d-md-block w-100' %}
                        {% endif %}

                        {%- render 'product-deferred-media',
                          media: current_video,
                          loop: section.settings.enable_video_looping,
                          custom_class: custom_style,
                          custom_video_class: 'w-100 h-100 object-fit-cover',
                          auto_play: true
                        -%}

                        {% if current_video.media_type == 'video' %}
                          <div class="d-none d-md-block as-video-poster absolute-center">
                            <div class="absolute-center flex-center icon-wrap-xl as-video-play">
                              {%- render 'icon-play-circle' -%}
                            </div>
                            <img
                              srcset="{% if current_video.preview_image.width >= 493 %}{{ current_video.preview_image | img_url: '493x' }} 493w,{% endif %}
                                {% if current_video.preview_image.width >= 600 %}{{ current_video.preview_image | img_url: '600x' }} 600w,{% endif %}
                                {% if current_video.preview_image.width >= 713 %}{{ current_video.preview_image | img_url: '713x' }} 713w,{% endif %}
                                {% if current_video.preview_image.width >= 823 %}{{ current_video.preview_image | img_url: '823x' }} 823w,{% endif %}
                                {% if current_video.preview_image.width >= 990 %}{{ current_video.preview_image | img_url: '990x' }} 990w,{% endif %}
                                {% if current_video.preview_image.width >= 1100 %}{{ current_video.preview_image | img_url: '1100x' }} 1100w,{% endif %}
                                {% if current_video.preview_image.width >= 1206 %}{{ current_video.preview_image | img_url: '1206x' }} 1206w,{% endif %}
                                {% if current_video.preview_image.width >= 1346 %}{{ current_video.preview_image | img_url: '1346x' }} 1346w,{% endif %}
                                {% if current_video.preview_image.width >= 1426 %}{{ current_video.preview_image | img_url: '1426x' }} 1426w,{% endif %}
                                {% if current_video.preview_image.width >= 1646 %}{{ current_video.preview_image | img_url: '1646x' }} 1646w,{% endif %}
                                {% if current_video.preview_image.width >= 1946 %}{{ current_video.preview_image | img_url: '1946x' }} 1946w,{% endif %}
                                {{ current_video.preview_image | img_url: 'master' }} {{ current_video.preview_image.width }}w"
                              src="{{ current_video | img_url: '1946x' }}"
                              class="w-100 h-100 object-fit-cover"
                              sizes="(min-width: 1920px) {{ 1920 | minus: 100 | times: 0.5 | round }}px, (min-width: 990px) calc({{ 0.5 | times: 100 }}vw - 10rem), (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)"
                              loading="lazy"
                              width="973"
                              height="{{ 973 | divided_by: current_video.preview_image.aspect_ratio | ceil }}"
                              alt="{{ current_video.preview_image.alt | escape }}"
                            >
                          </div>
                        </video-preview>
                        {% endif %}
                    </div>
                  </div>
                  {%- endif -%}
                  {%- if first_3d_model -%}
                    <div class="swiper-slide as-outer-slide outer-slide swiper-no-swiping">
                      <div class="{% if section.settings.thumbnail_layout_on_desktop == 'left' %}thumbnail-left-space{% endif %}">
                        <div class="ratio {{ section.settings.media_size }} mb-0 bg-default">
                          <product-model class="product-media product-media--model product-media--frame"
                            data-media-type="{{ first_3d_model.media_type }}"
                            data-media-id="{{ first_3d_model.id }}">
                            <button
                              class="product__xr-button bg-transparent border-0 end-0 p-0 position-absolute rounded-0 top-0"
                              type="button"
                              aria-label="{{ 'products.product.xr_button_label' | t }}"
                              data-shopify-xr
                              data-shopify-model3d-id="{{ first_3d_model.id }}"
                              data-shopify-title="{{ first_3d_model.title | escape }}"
                              data-shopify-xr-hidden
                            >
                              {% render 'icon-3d-model' %}
                            </button>
                            {{ first_3d_model | model_viewer_tag: image_size: 'master', loading: lazy, reveal: auto, toggleable: true, data-model-id: first_3d_model.id, touch-action: none,
                            class: 'w-100 h-100', preload: true, touch-action: 'none' }}
                          </product-model>
                        </div>
                      </div>
                    </div>
                  {%- endif -%}
                </div>
                {%- if show_video or first_3d_model -%}
                  <div class="as-outside-pagination opacity-0 media-tab mt-3 d-flex justify-content-center {% if section.settings.thumbnail_layout_on_desktop == 'left' %}thumbnail-left-space{% endif %}">
                    <script class="as-media-tab-template" type="text/x-handlebars-template">
                      <div class="swiper-pagination-bullet d-flex align-items-center px-2 py-1 w-auto h-auto">
                        {% render 'icon-gallery' %}
                        <span class="ms-1 fs-small">{{ 'products.product_gallery.photos' | t }}</span>
                      </div>
                    </script>
                    {%- if show_video -%}
                    <script class="as-media-tab-template" type="text/x-handlebars-template">
                      <div class="swiper-pagination-bullet d-flex align-items-center px-2 py-1 w-auto h-auto">
                        {% render 'icon-video' %}
                        <span class="ms-1 fs-small">{{ 'products.product_gallery.video' | t }}</span>
                      </div>
                    </script>
                    {%- endif -%}
                    {%- if first_3d_model -%}
                      <script class="as-media-tab-template" type="text/x-handlebars-template">
                        <div class="swiper-pagination-bullet d-flex align-items-center px-2 py-1 w-auto h-auto">
                          {% render 'icon-3d' %}
                          <span class="ms-1 fs-small">{{ 'products.product_gallery.3d' | t }}</span>
                        </div>
                      </script>
                    {%- endif -%}
                  </div>
                {%- endif -%}
              </div>
            </media-gallery> {% endcomment %}
          {% endfor %}
          {% comment %} <div class="d-none d-lg-block {% if section.settings.thumbnail_layout_on_desktop == 'left' %}thumbnail-left-space{% endif %}">
            {% render 'product-block-icon-with-text' %}
          </div> {% endcomment %}
        </div>
      </div>
      <div class="info-wrap-col ps-lg-6" style="width: {{ 100 | minus: section.settings.desktop_media_width | append: '%' }}">
        {% comment %} {% render 'product-info' %}
        {% render 'notify-me' %} {% endcomment %}
      </div>
    </div>
  </div>

  {%- if show_video -%}
    <video-modal class="modal" id="as-video-modal-{{product.id}}" tabindex="-1">
      <div class="modal-dialog modal-fullscreen bg-default">
        <div class="modal-content">
          <div class="modal-close-btn" data-bs-dismiss="modal">
            {%- render 'icon-close-circle' -%}
          </div>
          <div class="modal-body h-100 p-0">
            <div class="h-100 modal-media-wrap">
              {% if current_video.media_type == 'external_video' and current_video.host == 'youtube'  %}<div class="ratio ratio-16x9">{% endif %}
                {%- render 'product-deferred-media',
                  media: current_video,
                  loop: section.settings.enable_video_looping,
                  custom_class: 'w-100',
                  custom_video_class: 'w-100',
                  auto_play: true
                -%}
                {% if current_video.media_type == 'external_video' and current_video.host == 'youtube'  %}</div>{% endif %}
            </div>
          </div>
        </div>
      </div>
    </video-modal>
  {%- endif -%}

  {% if section.settings.enable_image_zoom %}
    {%- for variant in product.variants -%}
      {% capture variant_image_strs %}{%- render 'get-product-images-by-variant-id', image_list: image_list, target_variant: variant, all_images: product.images -%}{% endcapture %}
      {%- liquid assign variant_image_strs = variant_image_strs | split: ';;' -%}
      <gallery-modal data-current-index="0" class="modal gallery-modal" id="as-gallery-modal-{{ variant.id }}" tabindex="-1">
        <div class="modal-dialog modal-fullscreen bg-default">
          <div class="modal-content">
            <div class="modal-close-btn" data-bs-dismiss="modal">
              {%- render 'icon-close-circle' -%}
            </div>
            <div class="modal-body p-0">
              <div class="swiper as-media-swiper-inside media-swiper-inside h-100"
                data-swiper-number="{{ variant_image_strs.size }}">
                <div class="swiper-wrapper">
                  {%- for variant_image_str in variant_image_strs -%}
                    {%- liquid
                      assign variant_image = variant_image_str | split: '||'
                      assign variant_image_pos = variant_image[0] | plus: 0 | minus: 1
                      assign variant_image_alt = variant_image[1]
                    -%}
                    {%- assign image = product.images[variant_image_pos] -%}
                    <div class="swiper-slide">
                      <div class="h-100">
                        <div class="d-flex align-items-center h-100">
                          <figure class="ratio {{ section.settings.media_size }} mb-0 text-center">
                            {% if image != blank %}
                              <picture>
                                <source media="(max-width: 575px)"
                                  srcset="{{ image | img_url: '375x375' }} 1x, {{ image | img_url: '375x375', scale: 2 }} 2x" />
                                <img class="h-100 object-fit-cover fs-0" width="auto" height="auto"
                                  srcset="{{ image | img_url: '1200x1200' }} 1x, {{ image | img_url: '1200x1200', scale: 2 }} 2x"
                                  src="{{ image | img_url: '600x600' }}"
                                  loading="lazy"
                                  alt="{{ variant_image_alt | escape | strip }}">
                              </picture>
                            {% else %}
                              <picture>
                                <div class="object-fit-cover img-placeholder h-100 w-100">
                                  {{ 'image' | placeholder_svg_tag: 'placeholder-svg h-100' }}
                                </div>
                              </picture>
                            {% endif %}
                          </figure>
                        </div>
                      </div>
                    </div>
                  {%- endfor -%}
                </div>
                {%- if variant_image_strs.size > 1 -%}
                  <div class="as-inside-prev swiper-button-prev swiper-button-translate-y d-none d-md-block">
                    <span>{% render 'icon-chevron-circle-left' %}</span>
                  </div>
                  <div class="as-inside-next swiper-button-next swiper-button-translate-y d-none d-md-block">
                    <span>{% render 'icon-chevron-circle-right' %}</span>
                  </div>
                  <div class="as-inside-pagination swiper-pagination inside-swiper-pagination"></div>
                {%- endif -%}
              </div>
              {%- if section.settings.thumbnail_layout_on_desktop != 'hide_thumbnails' -%}
                {%- if variant_image_strs.size > 1 -%}
                  <thumbnail-gallery class="thumbnail-swiper as-thumbnail-gallery d-none d-md-block opacity-0" style="max-width: 29rem;">
                    <div class="position-relative">
                      <div thumbsSlider="" class="swiper as-gallery-modal-thumnails-swiper">
                        <div class="swiper-wrapper">
                          {%- for variant_image_str in variant_image_strs -%}
                            {%- liquid
                              assign variant_image = variant_image_str | split: '||'
                              assign variant_image_pos = variant_image[0] | plus: 0 | minus: 1
                              assign variant_image_alt = variant_image[1]
                            -%}
                            {%- assign image = product.images[variant_image_pos] -%}
                            <div class="swiper-slide rounded-pill {% if forloop.first %}swiper-gallery-thumb-active{% endif %}">
                              <figure class="ratio ratio-1x1 mb-0">
                                {% if image != blank %}
                                  <picture>
                                    <img class="object-fit-cover fs-0" width="64" height="64"
                                      srcset="{{ image | img_url: '64x64' }} 1x, {{ image | img_url: '64x64', scale: 2 }} 2x"
                                      src="{{ image | img_url: '64x64' }}"
                                      loading="lazy"
                                      alt="{{ variant_image_alt | escape | strip }}">
                                  </picture>
                                {% else %}
                                  <picture>
                                    <div class="object-fit-cover img-placeholder ">
                                      {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                                    </div>
                                  </picture>
                                {% endif %}
                              </figure>
                            </div>
                          {%- endfor -%}
                        </div>
                      </div>
                      {% comment %} 大于6个才需要箭头 {% endcomment %}
                      {%- if variant_image_strs.size > 6 -%}
                        <div class="as-inside-prev swiper-button-prev d-none d-md-flex flex-column justify-content-center">
                          <div>{% render 'icon-chevron-left' %}</div>
                        </div>
                        <div class="as-inside-next swiper-button-next d-none d-md-flex flex-column justify-content-center">
                          <div>{% render 'icon-chevron-right' %}</div>
                        </div>
                      {%- endif -%}
                    </div>
                  </thumbnail-gallery>
                {%- endif -%}
              {%- endif -%}
            </div>
          </div>
        </div>
      </gallery-modal>
    {%- endfor -%}
  {% endif %}
</div>




{% schema %}
  {
    "name": "Product",
    "tag": "section",
    "presets":[
      {
        "name": "Product"
      }
    ]
  }
{% endschema %}
